/* Ultra-Fast Anti-Fading CSS for Complex Streamlit Applications */

/* CRITICAL: Prevent ALL transitions and animations immediately */
* {
    transition: none !important;
    animation: none !important;
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    transition-duration: 0s !important;
    transition-delay: 0s !important;
    opacity: 1 !important;
}

/* Force consistent background during ALL states */
.stApp {
    background-color: #ffffff !important;
    background-image: none !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

.main .block-container {
    background-color: #ffffff !important;
    background-image: none !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Target ALL Streamlit elements that might fade */
.stApp > div,
.main > div,
.block-container > div,
[data-testid="stAppViewContainer"] > div,
[data-testid="stDecoration"] > div {
    background-color: #ffffff !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Target Streamlit's loading and decoration elements */
.stApp > div[data-testid="stDecoration"] {
    background-color: #ffffff !important;
    background-image: none !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Prevent opacity changes during loading */
.stApp > div,
.main > div,
.block-container > div {
    opacity: 1 !important;
    background-color: #ffffff !important;
    transition: none !important;
    animation: none !important;
}

/* Override any Streamlit loading states */
[data-testid="stAppViewContainer"] {
    background-color: #ffffff !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Prevent any fade effects from Streamlit's internal CSS */
.stApp > div[data-testid="stDecoration"]::before,
.stApp > div[data-testid="stDecoration"]::after,
.stApp > div::before,
.stApp > div::after {
    display: none !important;
    opacity: 0 !important;
}

/* Force ALL elements to maintain their appearance */
.stApp * {
    transition: none !important;
    animation: none !important;
    opacity: 1 !important;
}

/* Specific fixes for AgGrid and dataframe interactions */
.ag-root-wrapper,
.ag-root,
.ag-body-viewport,
.ag-body-viewport-wrapper,
.ag-theme-streamlit {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Force ALL interactive elements to maintain appearance */
.stButton > button,
.stSelectbox > div,
.stTextInput > div,
.stTextArea > div,
.stCheckbox > div,
.stRadio > div,
.stDataFrame > div,
.stForm > div {
    transition: none !important;
    animation: none !important;
    opacity: 1 !important;
    background-color: #ffffff !important;
}

/* Prevent any hover effects that might cause fading */
.stButton > button:hover,
.stSelectbox > div:hover,
.stTextInput > div:hover,
.stTextArea > div:hover,
.stCheckbox > div:hover,
.stRadio > div:hover,
.stDataFrame > div:hover,
.stForm > div:hover {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Fix for form elements */
.stForm {
    background-color: transparent !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Fix for sidebar */
.sidebar .sidebar-content {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Fix for any loading spinners or overlays */
.stSpinner,
.stProgress {
    background-color: transparent !important;
    transition: none !important;
    animation: none !important;
}

/* Ensure all text remains visible */
.stMarkdown,
.stText,
.stCode {
    color: inherit !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Fix for any modal or popup elements */
.stModal,
.stPopup {
    background-color: #ffffff !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* CRITICAL: Prevent fading during rerun operations */
/* Target the specific elements that fade during rerun */
.stApp > div[data-testid="stDecoration"] {
    background-color: #ffffff !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Prevent any loading states during rerun */
.stApp > div[data-testid="stDecoration"]::before,
.stApp > div[data-testid="stDecoration"]::after {
    display: none !important;
    opacity: 0 !important;
}

/* Force all elements to stay visible during rerun */
.stApp > div,
.main > div,
.block-container > div,
[data-testid="stAppViewContainer"] > div {
    opacity: 1 !important;
    background-color: #ffffff !important;
    transition: none !important;
    animation: none !important;
}

/* Prevent any Streamlit internal loading animations */
.stApp * {
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    transition-duration: 0s !important;
    transition-delay: 0s !important;
    opacity: 1 !important;
}

/* Specific fixes for navigation elements that cause fading */
.stSelectbox > div > div > div > div {
    background-color: #f0f2f6 !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Fix for dataframe interactions */
.stDataFrame {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Additional specific fixes for navigation elements */
.stSelectbox,
.stSelectbox > div,
.stSelectbox > div > div,
.stSelectbox > div > div > div {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Prevent any loading overlays */
.stApp > div[data-testid="stDecoration"]::before,
.stApp > div[data-testid="stDecoration"]::after {
    display: none !important;
    opacity: 0 !important;
}

/* Ensure all navigation elements maintain appearance */
.stSelectbox *,
.stButton *,
.stTextInput *,
.stTextArea *,
.stDataFrame *,
.stForm * {
    transition: none !important;
    animation: none !important;
    opacity: 1 !important;
}

/* CRITICAL: Additional ultra-fast fixes for complex apps */
/* Force all elements to maintain opacity */
.stApp *,
.main *,
.block-container *,
[data-testid="stAppViewContainer"] * {
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Prevent any CSS animations or transitions */
@keyframes none {
    from { opacity: 1; }
    to { opacity: 1; }
}

/* Override any existing animations */
* {
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    transition-duration: 0s !important;
    transition-delay: 0s !important;
    opacity: 1 !important;
}

/* Ultra-fast specific fixes for page navigation and rerun effects */
.stApp > div[data-testid="stDecoration"] {
    background-color: #ffffff !important;
    opacity: 1 !important;
    transition: none !important;
    animation: none !important;
}

/* Ultra-fast fix for any loading overlays that might appear during navigation */
.stApp > div[data-testid="stDecoration"]::before,
.stApp > div[data-testid="stDecoration"]::after {
    display: none !important;
    opacity: 0 !important;
}

/* Ultra-fast ensure consistent styling during all interactions */
.stApp > div,
.main > div,
.block-container > div,
[data-testid="stAppViewContainer"] > div {
    opacity: 1 !important;
    background-color: #ffffff !important;
    transition: none !important;
    animation: none !important;
}

/* Ultra-fast prevent any Streamlit internal animations */
.stApp * {
    animation-duration: 0s !important;
    animation-delay: 0s !important;
    transition-duration: 0s !important;
    transition-delay: 0s !important;
    opacity: 1 !important;
}

/* Ultra-fast specific fixes for navigation elements that cause fading */
.stSelectbox > div > div > div > div {
    background-color: #f0f2f6 !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Ultra-fast fix for dataframe interactions */
.stDataFrame {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Ultra-fast additional specific fixes for navigation elements */
.stSelectbox,
.stSelectbox > div,
.stSelectbox > div > div,
.stSelectbox > div > div > div {
    background-color: #ffffff !important;
    transition: none !important;
    opacity: 1 !important;
    animation: none !important;
}

/* Ultra-fast prevent any loading overlays */
.stApp > div[data-testid="stDecoration"]::before,
.stApp > div[data-testid="stDecoration"]::after {
    display: none !important;
    opacity: 0 !important;
}

/* Ultra-fast ensure all navigation elements maintain appearance */
.stSelectbox *,
.stButton *,
.stTextInput *,
.stTextArea *,
.stDataFrame *,
.stForm * {
    transition: none !important;
    animation: none !important;
    opacity: 1 !important;
}
